---
import BaseLayout from '../layouts/BaseLayout.astro';
import Navigation from '../components/Navigation.astro';
import Footer from '../components/Footer.astro';
import Animate from '../components/Animate.astro';
import { Icon } from 'astro-icon/components';
import { profile } from '../data/profile';

const title = "Projects - Philipp Petermeier";
const description = "Explore my key projects and contributions in Data Science, Reinforcement Learning, and Energy Systems modeling.";
---

<BaseLayout title={title} description={description}>
  <Navigation />

  <!-- Page Header -->
  <header class="bg-gradient-to-br from-primary-50 via-white to-primary-50 border-b border-primary-100">
    <div class="container-custom py-12 md:py-16">
      <Animate type="fade-up">
        <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4">
          Projects
        </h1>
        <p class="text-xl text-gray-600 max-w-3xl">
          Research projects, technical implementations, open source contributions, and publications
        </p>
      </Animate>
    </div>
  </header>

  <!-- Main Content with Sidebar -->
  <main class="min-h-screen">
    <div class="container-custom py-8 md:py-12">
      <div class="grid lg:grid-cols-[240px_1fr] gap-8 lg:gap-12">

        <!-- Sidebar Navigation -->
        <aside class="lg:sticky lg:top-24 h-fit">
          <Animate type="fade-in">
            <nav class="bg-white rounded-lg shadow-sm p-6 space-y-2">
              <h2 class="text-sm font-semibold text-gray-900 uppercase tracking-wide mb-4">
                Jump to
              </h2>
              <a href="#research" class="block py-2 px-3 text-gray-700 hover:text-primary-600 hover:bg-primary-50 rounded-md transition-colors">
                Research Projects
              </a>
              <a href="#technical" class="block py-2 px-3 text-gray-700 hover:text-primary-600 hover:bg-primary-50 rounded-md transition-colors">
                Technical Projects
              </a>
              <a href="#open-source" class="block py-2 px-3 text-gray-700 hover:text-primary-600 hover:bg-primary-50 rounded-md transition-colors">
                Open Source
              </a>
              <a href="#writings" class="block py-2 px-3 text-gray-700 hover:text-primary-600 hover:bg-primary-50 rounded-md transition-colors">
                Writings
              </a>
            </nav>
          </Animate>
        </aside>

        <!-- Content Area -->
        <div class="space-y-8">

          <!-- Research Projects Section -->
          <section id="research" class="scroll-mt-24">
            <Animate type="fade-up">
              <div class="bg-white rounded-lg shadow-sm p-8">
                <h2 class="text-3xl font-bold text-gray-900 mb-8">Research Projects</h2>

                <!-- Bachelor Thesis -->
                <div class="mb-12 last:mb-0">
                  <div class="flex flex-col md:flex-row md:items-start gap-6">
                    <div class="flex-shrink-0">
                      <div class="w-16 h-16 bg-primary-100 rounded-lg flex items-center justify-center">
                        <Icon name="mdi:brain" size={32} class="text-primary-600" />
                      </div>
                    </div>

                    <div class="flex-grow">
                      <div class="mb-4">
                        <h3 class="text-2xl font-bold text-gray-900 mb-2">
                          Deep Reinforcement Learning for Electricity Trading
                        </h3>
                        <p class="text-lg text-primary-600 font-medium mb-4">Bachelor Thesis • Grade: 1.2 (92%)</p>
                      </div>

                      <div class="prose prose-gray max-w-none mb-6">
                        <p class="text-gray-700">
                          Developed a comprehensive reinforcement learning environment for the limit orderbook intraday electricity market.
                          This work involved creating a scientific Python package with optimized runtime performance and MongoDB integration.
                        </p>
                      </div>

                      <div class="flex flex-wrap gap-2 mb-4">
                        <span class="bg-primary-100 text-primary-800 px-3 py-1 rounded-full text-sm font-medium">Reinforcement Learning</span>
                        <span class="bg-primary-100 text-primary-800 px-3 py-1 rounded-full text-sm font-medium">Python</span>
                        <span class="bg-primary-100 text-primary-800 px-3 py-1 rounded-full text-sm font-medium">Energy Systems</span>
                        <span class="bg-primary-100 text-primary-800 px-3 py-1 rounded-full text-sm font-medium">MongoDB</span>
                        <span class="bg-primary-100 text-primary-800 px-3 py-1 rounded-full text-sm font-medium">HPC</span>
                      </div>

                      <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                        <div class="flex items-center">
                          <Icon name="mdi:trophy" size={24} class="text-green-600 mr-3" />
                          <span class="text-green-800 font-medium">
                            Winner of Karl-Heinz Lust Innovation Award 2024 (Digital Economy / Industry 4.0 / AI)
                          </span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

              </div>
            </Animate>
          </section>

          <!-- Technical Projects Section -->
          <section id="technical" class="scroll-mt-24">
            <Animate type="fade-up" delay={100}>
              <div class="bg-white rounded-lg shadow-sm p-8">
                <h2 class="text-3xl font-bold text-gray-900 mb-8">Technical Projects</h2>

                <!-- Scientific Python Package -->
                <div class="mb-12 last:mb-0">
                  <div class="flex flex-col md:flex-row md:items-start gap-6">
                    <div class="flex-shrink-0">
                      <div class="w-16 h-16 bg-primary-100 rounded-lg flex items-center justify-center">
                        <Icon name="mdi:factory" size={32} class="text-primary-600" />
                      </div>
                    </div>

                    <div class="flex-grow">
                      <div class="mb-4">
                        <h3 class="text-2xl font-bold text-gray-900 mb-2">
                          Scientific Python Package Development
                        </h3>
                        <p class="text-lg text-primary-600 font-medium mb-4">Fraunhofer IEE • 2022-2024</p>
                      </div>

                      <div class="prose prose-gray max-w-none mb-6">
                        <p class="text-gray-700">
                          Led the development of a comprehensive scientific Python package for reinforcement learning in electricity trading,
                          including ETL pipeline design, MongoDB deployment, and HPC cluster orchestration using Ray.
                        </p>
                      </div>

                      <div class="flex flex-wrap gap-2">
                        <span class="bg-primary-100 text-primary-800 px-3 py-1 rounded-full text-sm font-medium">Python Package Development</span>
                        <span class="bg-primary-100 text-primary-800 px-3 py-1 rounded-full text-sm font-medium">ETL Pipelines</span>
                        <span class="bg-primary-100 text-primary-800 px-3 py-1 rounded-full text-sm font-medium">Performance Optimization</span>
                        <span class="bg-primary-100 text-primary-800 px-3 py-1 rounded-full text-sm font-medium">Ray Framework</span>
                        <span class="bg-primary-100 text-primary-800 px-3 py-1 rounded-full text-sm font-medium">Research Publication</span>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Website Project -->
                <div class="mb-12 last:mb-0 p-6 border-t border-gray-200 pt-12">
                  <div class="flex flex-col md:flex-row md:items-start gap-6">
                    <div class="flex-shrink-0">
                      <div class="w-16 h-16 bg-primary-100 rounded-lg flex items-center justify-center">
                        <Icon name="mdi:web" size={32} class="text-primary-600" />
                      </div>
                    </div>

                    <div class="flex-grow">
                      <div class="mb-4">
                        <h3 class="text-2xl font-bold text-gray-900 mb-2">
                          Personal Portfolio Website
                        </h3>
                        <p class="text-lg text-primary-600 font-medium mb-4">Personal Project • 2025</p>
                      </div>

                      <div class="prose prose-gray max-w-none mb-6">
                        <p class="text-gray-700">
                          Designed and developed a modern portfolio website using Astro, migrated from Hugo. Features a unified visual design system,
                          component-based architecture, and responsive design with scroll-triggered animations.
                        </p>
                      </div>

                      <div class="flex flex-wrap gap-2">
                        <span class="bg-primary-100 text-primary-800 px-3 py-1 rounded-full text-sm font-medium">Astro</span>
                        <span class="bg-primary-100 text-primary-800 px-3 py-1 rounded-full text-sm font-medium">TypeScript</span>
                        <span class="bg-primary-100 text-primary-800 px-3 py-1 rounded-full text-sm font-medium">Tailwind CSS</span>
                        <span class="bg-primary-100 text-primary-800 px-3 py-1 rounded-full text-sm font-medium">Responsive Design</span>
                      </div>
                    </div>
                  </div>
                </div>

              </div>
            </Animate>
          </section>

          <!-- Open Source Section -->
          <section id="open-source" class="scroll-mt-24">
            <Animate type="fade-up" delay={100}>
              <div class="bg-white rounded-lg shadow-sm p-8">
                <h2 class="text-3xl font-bold text-gray-900 mb-8">Open Source</h2>

                <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-6">
                  <div class="flex items-center justify-center mb-3">
                    <Icon name="mdi:construction" size={32} class="text-yellow-600 mr-3" />
                    <h3 class="text-lg font-semibold text-yellow-800">Coming Soon</h3>
                  </div>
                  <p class="text-yellow-700 text-center">
                    Open source contributions and projects will be listed here.
                  </p>
                </div>
              </div>
            </Animate>
          </section>

          <!-- Writings Section -->
          <section id="writings" class="scroll-mt-24">
            <Animate type="fade-up" delay={100}>
              <div class="bg-white rounded-lg shadow-sm p-8">
                <h2 class="text-3xl font-bold text-gray-900 mb-8">Writings</h2>

                <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-6">
                  <div class="flex items-center justify-center mb-3">
                    <Icon name="mdi:construction" size={32} class="text-yellow-600 mr-3" />
                    <h3 class="text-lg font-semibold text-yellow-800">Coming Soon</h3>
                  </div>
                  <p class="text-yellow-700 text-center">
                    Publications, blog posts, and technical writings will be listed here.
                  </p>
                </div>
              </div>
            </Animate>
          </section>

        </div>
      </div>
    </div>
  </main>

  <Footer />
</BaseLayout>

<style>
  /* Smooth scroll behavior */
  html {
    scroll-behavior: smooth;
  }

  /* Smooth scroll offset for fixed header */
  .scroll-mt-24 {
    scroll-margin-top: 6rem;
  }
</style>

<script>
  // Active section highlighting in sidebar
  document.addEventListener('DOMContentLoaded', () => {
    const sections = document.querySelectorAll('section[id]');
    const navLinks = document.querySelectorAll('aside nav a');

    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            const id = entry.target.getAttribute('id');
            navLinks.forEach((link) => {
              link.classList.remove('bg-primary-100', 'text-primary-700', 'font-semibold');
              if (link.getAttribute('href') === `#${id}`) {
                link.classList.add('bg-primary-100', 'text-primary-700', 'font-semibold');
              }
            });
          }
        });
      },
      {
        threshold: 0.2,
        rootMargin: '-100px 0px -60% 0px'
      }
    );

    sections.forEach((section) => observer.observe(section));
  });
</script>
