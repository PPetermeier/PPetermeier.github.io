---
// Reusable geometric background pattern inspired by header_warm.png
// Composition: Large triangle (bottom-left) creates negative space where two overlapping circles dwell
interface Props {
  opacity?: number;
}

const { opacity = 0.3 } = Astro.props;
---

<div class="geometric-background" style={`opacity: ${opacity};`}>
  <svg
    viewBox="0 0 1920 1080"
    xmlns="http://www.w3.org/2000/svg"
    class="absolute inset-0 w-full h-full"
    preserveAspectRatio="xMidYMid slice"
  >
    <!-- Define rich earth-tone colors -->
    <defs>
      <!-- Triangle gradient - rich terracotta to warm tan -->
      <linearGradient id="triangleGradient" x1="0%" y1="100%" x2="50%" y2="0%">
        <stop offset="0%" style="stop-color:#c49a6c;stop-opacity:1" />
        <stop offset="100%" style="stop-color:#b8956f;stop-opacity:1" />
      </linearGradient>

      <!-- Circle 1 gradient - warm beige fading outward -->
      <radialGradient id="circle1Gradient" cx="50%" cy="50%" r="50%">
        <stop offset="0%" style="stop-color:#d4c4a8;stop-opacity:0.9" />
        <stop offset="60%" style="stop-color:#c9b89a;stop-opacity:0.6" />
        <stop offset="100%" style="stop-color:#bfad91;stop-opacity:0.3" />
      </radialGradient>

      <!-- Circle 2 gradient - soft cream fading outward -->
      <radialGradient id="circle2Gradient" cx="50%" cy="50%" r="50%">
        <stop offset="0%" style="stop-color:#e8dccf;stop-opacity:0.85" />
        <stop offset="60%" style="stop-color:#d9cdbf;stop-opacity:0.5" />
        <stop offset="100%" style="stop-color:#cbbfb0;stop-opacity:0.25" />
      </radialGradient>
    </defs>

    <!-- The Triangle: 90Â° angle at bottom-left
         Point 1 (bottom-left corner): (0, 1080)
         Point 2 (left edge, ~7/8 up): (0, 135) [1080 * 1/8 = 135]
         Point 3 (bottom edge, ~3/10 right): (576, 1080) [1920 * 0.3 = 576]
    -->
    <path
      d="M 0,1080 L 0,135 L 576,1080 Z"
      fill="url(#triangleGradient)"
      opacity="0.95"
    />

    <!-- Circle 1: Larger circle in upper-right quadrant
         Positioned to overlap with Circle 2 and fade away from triangle
    -->
    <circle
      cx="1350"
      cy="350"
      r="520"
      fill="url(#circle1Gradient)"
    />

    <!-- Circle 2: Overlapping circle, slightly lower and to the right
         Creates the darker overlap zone where they intersect
    -->
    <circle
      cx="1550"
      cy="500"
      r="450"
      fill="url(#circle2Gradient)"
    />
  </svg>
</div>

<style>
  .geometric-background {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 0;
  }

  svg {
    mix-blend-mode: multiply;
  }
</style>
